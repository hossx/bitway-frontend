!function(){"use strict";function e(e,t,o,n){function a(e,t){return e-=n,t-=n,0>e||e>=r||0>t||t>=r?!1:i.isDark(e,t)}var i=qrcode(o,t);i.addData(e),i.make(),n=n||0;var r=i.getModuleCount(),l=i.getModuleCount()+2*n,s=function(e,t,o,n){var a=this.isDark,i=1/l;this.isDark=function(r,l){var s=l*i,c=r*i,u=s+i,d=c+i;return a(r,l)&&(e>u||s>o||t>d||c>n)}};this.text=e,this.level=t,this.version=o,this.moduleCount=l,this.isDark=a,this.addBlank=s}function t(t,o,n,a,i){n=Math.max(1,n||1),a=Math.min(40,a||40);for(var r=n;a>=r;r+=1)try{return new e(t,o,r,i)}catch(l){}}function o(e,t,o){var n=o.size,a="bold "+o.mSize*n+"px "+o.fontname,i=$("<canvas/>")[0].getContext("2d");i.font=a;var r=i.measureText(o.label).width,l=o.mSize,s=r/n,c=(1-s)*o.mPosX,u=(1-l)*o.mPosY,d=c+s,f=u+l,m=.01;1===o.mode?e.addBlank(0,u-m,n,f+m):e.addBlank(c-m,u-m,d+m,f+m),t.fillStyle=o.fontcolor,t.font=a,t.fillText(o.label,c*n,u*n+.75*o.mSize*n)}function n(e,t,o){var n=o.size,a=o.image.naturalWidth||1,i=o.image.naturalHeight||1,r=o.mSize,l=r*a/i,s=(1-l)*o.mPosX,c=(1-r)*o.mPosY,u=s+l,d=c+r,f=.01;3===o.mode?e.addBlank(0,c-f,n,d+f):e.addBlank(s-f,c-f,u+f,d+f),t.drawImage(o.image,s*n,c*n,l*n,r*n)}function a(e,t,a){$(a.background).is("img")?t.drawImage(a.background,0,0,a.size,a.size):a.background&&(t.fillStyle=a.background,t.fillRect(a.left,a.top,a.size,a.size));var i=a.mode;1===i||2===i?o(e,t,a):(3===i||4===i)&&n(e,t,a)}function i(e,t,o,n,a,i,r,l){e.isDark(r,l)&&t.rect(n,a,i,i)}function r(e,t,o,n,a,i,r,l,s,c){r?e.moveTo(t+i,o):e.moveTo(t,o),l?(e.lineTo(n-i,o),e.arcTo(n,o,n,a,i)):e.lineTo(n,o),s?(e.lineTo(n,a-i),e.arcTo(n,a,t,a,i)):e.lineTo(n,a),c?(e.lineTo(t+i,a),e.arcTo(t,a,t,o,i)):e.lineTo(t,a),r?(e.lineTo(t,o+i),e.arcTo(t,o,n,o,i)):e.lineTo(t,o)}function l(e,t,o,n,a,i,r,l,s,c){r&&(e.moveTo(t+i,o),e.lineTo(t,o),e.lineTo(t,o+i),e.arcTo(t,o,t+i,o,i)),l&&(e.moveTo(n-i,o),e.lineTo(n,o),e.lineTo(n,o+i),e.arcTo(n,o,n-i,o,i)),s&&(e.moveTo(n-i,a),e.lineTo(n,a),e.lineTo(n,a-i),e.arcTo(n,a,n-i,a,i)),c&&(e.moveTo(t+i,a),e.lineTo(t,a),e.lineTo(t,a-i),e.arcTo(t,a,t+i,a,i))}function s(e,t,o,n,a,i,s,c){var u=e.isDark,d=n+i,f=a+i,m=o.radius*i,g=s-1,h=s+1,v=c-1,T=c+1,b=u(s,c),k=u(g,v),p=u(g,c),x=u(g,T),z=u(s,T),M=u(h,T),S=u(h,c),w=u(h,v),C=u(s,v);b?(t.strokeStyle=o.fill,r(t,n,a,d,f,m,!p&&!C,!p&&!z,!S&&!z,!S&&!C)):l(t,n,a,d,f,m,p&&C&&k,p&&z&&x,S&&z&&M,S&&C&&w)}function c(e,t,o){var n=e.moduleCount,a=o.size/n,r=i,l,c;v&&o.radius>0&&o.radius<=.5&&(r=s);var u=["rgb(0,0,0)","rgba(0,0,0,.85)","rgba(0,0,0,.7)"];for(t.fillStyle=u[Math.floor(Math.random()*u.length)],t.beginPath(),l=0;n>l;l+=1){for(c=0;n>c;c+=1){var d=o.left+c*a,f=o.top+l*a,m=a;r(e,t,o,d,f,m,l,c),0==Math.floor(10*Math.random())&&(t.fill(),t.beginPath(),t.fillStyle=u[Math.floor(Math.random()*u.length)])}t.fill(),t.beginPath(),t.fillStyle=u[Math.floor(Math.random()*u.length)]}t.fill()}function u(e,o){var n=t(o.text,o.ecLevel,o.minVersion,o.maxVersion,o.quiet);if(!n)return null;var i=$(e).data("qrcode",n),r=i[0].getContext("2d");return a(n,r,o),c(n,r,o),i}function d(e){var t=$("<canvas/>").attr("width",e.size).attr("height",e.size);return u(t,e)}function f(e){return $("<img/>").attr("src",d(e)[0].toDataURL("image/png"))}function m(e){var o=t(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!o)return null;var n=e.size,a=e.background,i=Math.floor,r=o.moduleCount,l=i(n/r),s=i(.5*(n-l*r)),c,u,d={position:"relative",left:0,top:0,padding:0,margin:0,width:n,height:n},f={position:"absolute",padding:0,margin:0,width:l,height:l,"background-color":e.fill},m=$("<div/>").data("qrcode",o).css(d);for(a&&m.css("background-color",a),c=0;r>c;c+=1)for(u=0;r>u;u+=1)o.isDark(c,u)&&$("<div/>").css(f).css({left:s+u*l,top:s+c*l}).appendTo(m);return m}function g(e){return h&&"canvas"===e.render?d(e):h&&"image"===e.render?f(e):m(e)}var $=jQuery,h=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),v="[object Opera]"!==Object.prototype.toString.call(window.opera),T={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};$.fn.qrcode=function(e){var t=$.extend({},T,e);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?u(this,t):$(this).append(g(t))})}}();